# Структура проекта VGIK

## Обзор структуры директорий

```
VGIK/
├── docs/                          # Документация проекта
│   ├── porting/                   # Руководства по портированию
│   │   └── README.md              # Основное руководство по портированию
│   ├── provider/                  # Руководства для провайдеров
│   │   └── README.md              # Руководство для интернет-провайдеров
│   └── STRUCTURE.md               # Этот файл
│
├── core/                          # Ядро системы
│   ├── hal/                       # Аппаратный слой абстракции (HAL)
│   │   ├── hal_network_*.c       # Реализации сетевого HAL
│   │   ├── hal_gpio_*.c          # Реализации GPIO HAL
│   │   ├── hal_memory_*.c        # Реализации памяти HAL
│   │   └── hal_system_*.c        # Реализации системного HAL
│   ├── kernel/                    # Модификации ядра Linux
│   │   └── patches/               # Патчи для ядра
│   └── base/                      # Базовые компоненты
│       ├── config/                # Конфигурационный движок
│       ├── events/                # Система событий
│       ├── logging/              # Логирование
│       └── service_manager/       # Управление сервисами
│
├── services/                      # Сервисы платформы
│   ├── network/                   # Сетевые сервисы
│   │   ├── pppoe/                 # PPPoE клиент/сервер
│   │   ├── vlan/                  # Управление VLAN
│   │   ├── routing/               # Маршрутизация
│   │   ├── nat/                   # NAT/Firewall
│   │   ├── dhcp/                  # DHCP сервер/клиент
│   │   └── wifi/                  # WiFi управление
│   ├── security/                  # Сервисы безопасности
│   │   ├── firewall/              # Firewall
│   │   ├── vpn/                   # VPN (OpenVPN, WireGuard, IPsec)
│   │   └── dpi/                   # Deep Packet Inspection
│   ├── management/                # Сервисы управления
│   │   ├── firmware/              # Обновления прошивки
│   │   ├── config/                # Управление конфигурацией
│   │   └── remote/                # Удалённое управление
│   └── monitoring/                # Сервисы мониторинга
│       ├── statistics/            # Сбор статистики
│       ├── logs/                  # Системные логи
│       └── snmp/                  # SNMP агент
│
├── api/                           # API-слой
│   ├── rest/                      # REST API
│   │   ├── server/                # HTTP сервер
│   │   ├── handlers/              # Обработчики запросов
│   │   └── auth/                  # Аутентификация/авторизация
│   ├── tr069/                     # TR-069 адаптер
│   │   ├── client/                # TR-069 клиент
│   │   ├── datamodel/             # Data Model
│   │   └── rpc/                   # Удалённые процедуры
│   ├── netconf/                   # NETCONF адаптер
│   │   ├── server/                # NETCONF сервер
│   │   └── yang/                  # YANG модели
│   └── web/                       # Web-интерфейс
│       ├── frontend/              # Frontend приложение
│       └── backend/               # Backend API
│
├── config/                        # Конфигурация
│   ├── schemas/                   # Схемы валидации (JSON Schema)
│   │   └── config.schema.json     # Основная схема конфигурации
│   └── templates/                 # Шаблоны конфигураций
│       └── default.yaml           # Шаблон по умолчанию
│
├── build/                         # Система сборки
│   ├── scripts/                   # Скрипты сборки
│   │   ├── setup.sh               # Настройка окружения
│   │   ├── build.sh               # Основной скрипт сборки
│   │   └── build-firmware.sh      # Сборка образа прошивки
│   ├── toolchains/                # Инструменты кросс-компиляции
│   ├── profiles/                  # Профили устройств
│   │   └── *.mk                   # Конфигурации для разных моделей
│   └── configs/                   # Конфигурации сборки
│       └── kernel-*.config        # Конфигурации ядра
│
├── tests/                         # Тесты
│   ├── unit/                      # Модульные тесты
│   │   ├── core/                  # Тесты ядра
│   │   ├── hal/                   # Тесты HAL
│   │   └── services/              # Тесты сервисов
│   ├── integration/               # Интеграционные тесты
│   │   └── scenarios/             # Сценарии тестирования
│   └── hardware/                  # Тесты на реальном железе
│       └── scripts/                # Скрипты автоматизации
│
├── tools/                         # Вспомогательные утилиты
│   ├── config-generator/          # Генератор конфигураций
│   ├── config-validator/          # Валидатор конфигураций
│   └── porting-helper/            # Инструмент портирования
│
├── README.md                      # Основная документация проекта
├── Дизайн.md                      # Архитектура системы
├── список заглушек.md             # Список компонентов для реализации
├── LICENSE                        # Лицензия проекта
└── CONTRIBUTING.md                # Руководство по контрибуции
```

## Описание основных директорий

### docs/
Содержит всю документацию проекта:
- Руководства по портированию для производителей
- Руководства для интернет-провайдеров
- Техническая документация

### core/
Ядро системы - базовые компоненты, не зависящие от конкретного железа:
- **hal/**: Аппаратный слой абстракции - унифицированные интерфейсы для работы с железом
- **kernel/**: Модификации ядра Linux для поддержки специфичных функций
- **base/**: Базовые компоненты (конфигурация, события, логирование)

### services/
Модульные сервисы платформы:
- Каждый сервис независим и может быть включен/выключен
- Сервисы взаимодействуют через систему событий
- Легко добавлять новые сервисы

### api/
Единые интерфейсы для управления устройством:
- REST API для программного управления
- TR-069 для интеграции с системами провайдера
- NETCONF для конфигурации
- Web-интерфейс для пользователей

### build/
Система сборки и кросс-компиляции:
- Поддержка множества архитектур
- Автоматизированная сборка образов
- Профили для разных устройств

### tests/
Многоуровневое тестирование:
- Модульные тесты для каждого компонента
- Интеграционные тесты для проверки взаимодействия
- Тесты на реальном железе

## Принципы организации

1. **Модульность**: Каждый компонент в отдельной директории
2. **Независимость**: Компоненты слабо связаны между собой
3. **Расширяемость**: Легко добавлять новые компоненты
4. **Тестируемость**: Каждый компонент имеет тесты

## Следующие шаги

После изучения структуры проекта:
1. Ознакомьтесь с [README.md](../README.md) для общего обзора
2. Изучите [Дизайн.md](../Дизайн.md) для понимания архитектуры
3. Посмотрите [список заглушек.md](../список%20заглушек.md) для понимания что нужно реализовать

